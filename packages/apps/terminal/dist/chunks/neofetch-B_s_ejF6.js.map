{"version":3,"file":"neofetch-B_s_ejF6.js","sources":["../../src/core/commands/neofetch.ts"],"sourcesContent":["import { SettingsManager } from \"@prozilla-os/core\";\nimport { ANSI } from \"@prozilla-os/shared\";\nimport { ANSI_ASCII_LOGO, ANSI_LOGO_COLOR } from \"../../constants/terminal.const\";\nimport { Command, ExecuteParams } from \"../command\";\nimport { Theme } from \"@prozilla-os/skins\";\n\nexport const neofetch = new Command()\n\t.setManual({\n\t\tpurpose: \"Fetch system information\",\n\t})\n\t.setExecute(async function(_args, params) {\n\t\tconst { username, hostname, app, systemManager, settingsManager } = params as ExecuteParams;\n\t\tconst leftColumn = ANSI_ASCII_LOGO.split(\"\\n\");\n\t\tconst rightColumnWidth = (username?.length ?? 0) + (hostname?.length ?? 0) + 1;\n\n\t\tconst themeIndex = await settingsManager.getSettings(SettingsManager.VIRTUAL_PATHS.theme).get(\"theme\");\n\t\tlet theme = Theme[Theme.Dark];\n\t\tif (themeIndex != null && parseInt(themeIndex)) {\n\t\t\ttheme = Theme[parseInt(themeIndex)];\n\t\t}\n\n\t\tconst userAgent = navigator.userAgent;\n\n\t\t// Check for the browser name using regular expressions\n\t\tlet browserName: string;\n\t\tif (userAgent.match(/Firefox\\//)) {\n\t\t\tbrowserName = \"Mozilla Firefox\";\n\t\t} else if (userAgent.match(/Edg\\//)) {\n\t\t\tbrowserName = \"Microsoft Edge\";\n\t\t} else if (userAgent.match(/Chrome\\//)) {\n\t\t\tbrowserName = \"Google Chrome\";\n\t\t} else if (userAgent.match(/Safari\\//)) {\n\t\t\tbrowserName = \"Apple Safari\";\n\t\t} else {\n\t\t\tbrowserName = \"Unknown\";\n\t\t}\n\n\t\tconst formatLine = (label: string, text: string) => ANSI.fg.cyan + label.toUpperCase() + ANSI.reset + \": \" + text;\n\n\t\tconst rightColumn = [\n\t\t\t`${ANSI.fg.cyan + username + ANSI.reset}@${ANSI.fg.cyan + hostname + ANSI.reset}`,\n\t\t\t\"-\".repeat(rightColumnWidth),\n\t\t\tformatLine(\"os\", systemManager.systemName),\n\t\t\tformatLine(\"uptime\", systemManager.getUptime(2)),\n\t\t\tformatLine(\"resolution\", window.innerWidth + \"x\" + window.innerHeight),\n\t\t\tformatLine(\"theme\", theme),\n\t\t\tformatLine(\"icons\", \"Font Awesome\"),\n\t\t\tformatLine(\"terminal\", app?.name ?? \"Unknown\"),\n\t\t\tformatLine(\"browser\", browserName),\n\t\t\tformatLine(\"platform\", navigator.platform),\n\t\t\tformatLine(\"language\", navigator.language),\n\t\t\t\"\",\n\t\t\tObject.values(ANSI.fg).map((colorCode) => colorCode + \"███\").join(\"\") + ANSI.reset,\n\t\t];\n\n\t\tconst combined = [];\n\t\tfor (let i = 1; i < leftColumn.length; i++) {\n\t\t\tlet line = `${ANSI_LOGO_COLOR + leftColumn[i] + ANSI.reset}  `;\n\n\t\t\tif (i <= rightColumn.length) {\n\t\t\t\tline += rightColumn[i - 1];\n\t\t\t} else {\n\t\t\t\t// This fixes a weird display bug on Safari mobile\n\t\t\t\tline += \" \".repeat(rightColumnWidth);\n\t\t\t}\n\n\t\t\tcombined.push(line);\n\t\t}\n\n\t\treturn combined.join(\"\\n\");\n\t});"],"names":["neofetch","Command","_args","params","username","hostname","app","systemManager","settingsManager","leftColumn","ANSI_ASCII_LOGO","rightColumnWidth","themeIndex","SettingsManager","theme","Theme","userAgent","browserName","formatLine","label","text","ANSI","rightColumn","colorCode","combined","i","line","ANSI_LOGO_COLOR"],"mappings":";;;;;AAMO,MAAMA,IAAW,IAAIC,EAAQ,EAClC,UAAU;AAAA,EACV,SAAS;AACV,CAAC,EACA,WAAW,eAAeC,GAAOC,GAAQ;AACzC,QAAM,EAAE,UAAAC,GAAU,UAAAC,GAAU,KAAAC,GAAK,eAAAC,GAAe,iBAAAC,EAAoB,IAAAL,GAC9DM,IAAaC,EAAgB,MAAM;AAAA,CAAI,GACvCC,MAAoBP,KAAA,gBAAAA,EAAU,WAAU,OAAMC,KAAA,gBAAAA,EAAU,WAAU,KAAK,GAEvEO,IAAa,MAAMJ,EAAgB,YAAYK,EAAgB,cAAc,KAAK,EAAE,IAAI,OAAO;AACjG,MAAAC,IAAQC,EAAMA,EAAM,IAAI;AAC5B,EAAIH,KAAc,QAAQ,SAASA,CAAU,MACpCE,IAAAC,EAAM,SAASH,CAAU,CAAC;AAGnC,QAAMI,IAAY,UAAU;AAGxB,MAAAC;AACA,EAAAD,EAAU,MAAM,WAAW,IAChBC,IAAA,oBACJD,EAAU,MAAM,OAAO,IACnBC,IAAA,mBACJD,EAAU,MAAM,UAAU,IACtBC,IAAA,kBACJD,EAAU,MAAM,UAAU,IACtBC,IAAA,iBAEAA,IAAA;AAGf,QAAMC,IAAa,CAACC,GAAeC,MAAiBC,EAAK,GAAG,OAAOF,EAAM,YAAY,IAAIE,EAAK,QAAQ,OAAOD,GAEvGE,IAAc;AAAA,IACnB,GAAGD,EAAK,GAAG,OAAOjB,IAAWiB,EAAK,KAAK,IAAIA,EAAK,GAAG,OAAOhB,IAAWgB,EAAK,KAAK;AAAA,IAC/E,IAAI,OAAOV,CAAgB;AAAA,IAC3BO,EAAW,MAAMX,EAAc,UAAU;AAAA,IACzCW,EAAW,UAAUX,EAAc,UAAU,CAAC,CAAC;AAAA,IAC/CW,EAAW,cAAc,OAAO,aAAa,MAAM,OAAO,WAAW;AAAA,IACrEA,EAAW,SAASJ,CAAK;AAAA,IACzBI,EAAW,SAAS,cAAc;AAAA,IAClCA,EAAW,aAAYZ,KAAA,gBAAAA,EAAK,SAAQ,SAAS;AAAA,IAC7CY,EAAW,WAAWD,CAAW;AAAA,IACjCC,EAAW,YAAY,UAAU,QAAQ;AAAA,IACzCA,EAAW,YAAY,UAAU,QAAQ;AAAA,IACzC;AAAA,IACA,OAAO,OAAOG,EAAK,EAAE,EAAE,IAAI,CAACE,MAAcA,IAAY,KAAK,EAAE,KAAK,EAAE,IAAIF,EAAK;AAAA,EAAA,GAGxEG,IAAW,CAAA;AACjB,WAASC,IAAI,GAAGA,IAAIhB,EAAW,QAAQgB,KAAK;AAC3C,QAAIC,IAAO,GAAGC,IAAkBlB,EAAWgB,CAAC,IAAIJ,EAAK,KAAK;AAEtD,IAAAI,KAAKH,EAAY,SACZI,KAAAJ,EAAYG,IAAI,CAAC,IAGjBC,KAAA,IAAI,OAAOf,CAAgB,GAGpCa,EAAS,KAAKE,CAAI;AAAA,EACnB;AAEO,SAAAF,EAAS,KAAK;AAAA,CAAI;AAC1B,CAAC;"}