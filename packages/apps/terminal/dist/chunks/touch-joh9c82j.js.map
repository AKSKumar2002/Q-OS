{"version":3,"file":"touch-joh9c82j.js","sources":["../../src/core/commands/touch.ts"],"sourcesContent":["import { VirtualFile } from \"@prozilla-os/core\";\nimport { formatError } from \"../_utils/terminal.utils\";\nimport { Command, ExecuteParams } from \"../command\";\n\nexport const touch = new Command()\n\t.setRequireArgs(true)\n\t.setManual({\n\t\tpurpose: \"Change file timestamps\",\n\t\tusage: \"touch [options] files\",\n\t\tdescription: \"Update the access and modification times of each FILE to the current time.\\n\\n\"\n\t\t\t+ \"A file argument that does not exist is created empty.\",\n\t})\n\t.setExecute(function(this: Command, args, params) {\n\t\tconst { currentDirectory } = params as ExecuteParams;\n\t\tconst fileId = (args as string[])[0];\n\n\t\tif (fileId === \"girls\\\\\" && (args as string[])[1] === \"boo**\")\n\t\t\treturn formatError((this).name, \"Cannot touch 'girls boo**': Permission denied\");\n\t\n\t\tconst { name, extension } = VirtualFile.splitId(fileId);\n\t\n\t\tif (currentDirectory.findFile(name, extension))\n\t\t\treturn { blank: true };\n\t\n\t\tcurrentDirectory.createFile(name, extension as string | undefined);\n\t\treturn { blank: true };\n\t});"],"names":["touch","Command","args","params","currentDirectory","fileId","formatError","name","extension","VirtualFile"],"mappings":";;;AAIO,MAAMA,IAAQ,IAAIC,IACvB,eAAe,EAAI,EACnB,UAAU;AAAA,EACV,SAAS;AAAA,EACT,OAAO;AAAA,EACP,aAAa;AAAA;AAAA;AAEd,CAAC,EACA,WAAW,SAAwBC,GAAMC,GAAQ;AAC3C,QAAA,EAAE,kBAAAC,EAAqB,IAAAD,GACvBE,IAAUH,EAAkB,CAAC;AAEnC,MAAIG,MAAW,aAAcH,EAAkB,CAAC,MAAM;AAC9C,WAAAI,EAAa,KAAM,MAAM,+CAA+C;AAEhF,QAAM,EAAE,MAAAC,GAAM,WAAAC,EAAA,IAAcC,EAAY,QAAQJ,CAAM;AAElD,SAAAD,EAAiB,SAASG,GAAMC,CAAS,IACrC,EAAE,OAAO,QAEAJ,EAAA,WAAWG,GAAMC,CAA+B,GAC1D,EAAE,OAAO;AACjB,CAAC;"}