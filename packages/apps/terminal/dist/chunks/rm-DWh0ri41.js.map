{"version":3,"file":"rm-DWh0ri41.js","sources":["../../src/core/commands/rm.ts"],"sourcesContent":["import { VirtualFile } from \"@prozilla-os/core\";\nimport { formatError } from \"../_utils/terminal.utils\";\nimport { Command, ExecuteParams } from \"../command\";\n\nexport const rm = new Command()\n\t.setRequireArgs(true)\n\t.setManual({\n\t\tpurpose: \"Remove a file\",\n\t})\n\t.setExecute(function(this: Command, args, params) {\n\t\tconst { currentDirectory } = params as ExecuteParams;\n\t\tconst fileId = (args as string[])[0];\n\t\tconst { name, extension } = VirtualFile.splitId(fileId);\n\t\tconst file = currentDirectory.findFile(name, extension);\n\t\n\t\tif (!file)\n\t\t\treturn formatError(this.name, `${fileId}: No such file`);\n\t\t\n\t\tfile.delete();\n\t\treturn { blank: true };\n\t});"],"names":["rm","Command","args","params","currentDirectory","fileId","name","extension","VirtualFile","file","formatError"],"mappings":";;;AAIO,MAAMA,IAAK,IAAIC,IACpB,eAAe,EAAI,EACnB,UAAU;AAAA,EACV,SAAS;AACV,CAAC,EACA,WAAW,SAAwBC,GAAMC,GAAQ;AAC3C,QAAA,EAAE,kBAAAC,EAAqB,IAAAD,GACvBE,IAAUH,EAAkB,CAAC,GAC7B,EAAE,MAAAI,GAAM,WAAAC,EAAA,IAAcC,EAAY,QAAQH,CAAM,GAChDI,IAAOL,EAAiB,SAASE,GAAMC,CAAS;AAEtD,SAAKE,KAGLA,EAAK,OAAO,GACL,EAAE,OAAO,QAHRC,EAAY,KAAK,MAAM,GAAGL,CAAM,gBAAgB;AAIzD,CAAC;"}