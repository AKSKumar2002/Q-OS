{"version":3,"file":"main.js","sources":["../src/constants/ansi.const.ts","../src/features/_utils/array.utils.ts","../src/features/_utils/date.utils.ts","../src/features/_utils/event.utils.ts","../src/features/_utils/math.utils.ts","../src/features/_utils/number.utils.ts"],"sourcesContent":["export const ANSI = {\n\tfg: {\n\t\tblack: \"\\u001b[30m\",\n\t\tred: \"\\u001b[31m\",\n\t\tgreen: \"\\u001b[32m\",\n\t\tyellow: \"\\u001b[33m\",\n\t\tblue: \"\\u001b[34m\",\n\t\tmagenta: \"\\u001b[35m\",\n\t\tcyan: \"\\u001b[36m\",\n\t\twhite: \"\\u001b[37m\",\n\t},\n\tbg: {\n\n\t},\n\tdecoration: {\n\t\tdim: \"\\u001b[2m\",\n\t\tbold: \"\\u001b[1m\",\n\t},\n\treset: \"\\u001b[0m\",\n};","export function removeFromArray<Type>(item: Type, array: Type[]) {\n\tconst index = array.indexOf(item);\n\tif (index !== -1) {\n\t\tarray.splice(index, 1);\n\t}\n}\n\nexport function randomFromArray<Type>(array: Type[]): Type {\n\treturn array[Math.floor(Math.random() * array.length)];\n}\n\nexport function removeDuplicatesFromArray<Type>(array: Type[]): Type[] {\n\treturn array.filter((item, index) => array.indexOf(item) === index);\n}","const TIME_INDICATORS = {\n\t\"s\": 1000,\n\t\"m\": 1000 * 60,\n\t\"h\": 1000 * 60 * 60,\n\t\"d\": 1000 * 60 * 60 * 24,\n\t\"w\": 1000 * 60 * 60 * 24 * 7,\n\t\"n\": 1000 * 60 * 60 * 24 * 31,\n\t\"y\": 1000 * 60 * 60 * 24 * 365,\n\t\"c\": 1000 * 60 * 60 * 24 * 365 * 100,\n};\n\n/**\n * Format a time\n * @param time - Time in milliseconds\n * @param maxLength - The maximum amount of units, e.g.: 3 => years, months, days\n */\nexport function formatTime(time: number, maxLength: number = 3, allowAffixes: boolean): string {\n\tconst result: string[] = [];\n\n\tconst formatResult = (result: string[], inPast: boolean): string => {\n\t\tif (!allowAffixes)\n\t\t\treturn result.join(\", \");\n\n\t\tlet prefix = \"\";\n\t\tlet suffix = \"\";\n\n\t\tif (inPast) {\n\t\t\tsuffix = \"ago\";\n\t\t} else {\n\t\t\tprefix = \"in\";\n\t\t}\n\n\t\treturn [prefix, result.join(\", \"), suffix].join(\" \").trim();\n\t};\n\n\tlet inPast = false;\n\n\tif (time < 0) {\n\t\ttime = -time;\n\t\tinPast = true;\n\t}\n\n\tif (Math.abs(time) < TIME_INDICATORS.s) {\n\t\treturn formatResult([\"less than a second\"], inPast);\n\t}\n\n\tconst units: { amount: number, label: string }[] = [];\n\tconst unitLabels: Record<string, string> = {\n\t\t\"s\": \"seconds\",\n\t\t\"m\": \"minutes\",\n\t\t\"h\": \"hours\",\n\t\t\"d\": \"days\",\n\t\t\"n\": \"months\",\n\t\t\"y\": \"years\",\n\t};\n\n\tfor (const [key, value] of Object.entries(TIME_INDICATORS).reverse()) {\n\t\tif (key === \"w\" || key === \"c\")\n\t\t\tcontinue;\n\n\t\tconst amount = Math.floor(time / value);\n\t\ttime -= amount * value;\n\n\t\tif (amount > 0)\n\t\t\tunits.push({ amount, label: unitLabels[key] });\n\t}\n\n\tfor (let i = 0; i < maxLength; i++) {\n\t\tconst unit = units[i];\n\n\t\tif (unit)\n\t\t\tresult.push(`${unit.amount} ${unit.label}`);\n\t}\n\n\tif (result.length === 0) {\n\t\treturn formatResult([\"less than a second\"], inPast);\n\t} else {\n\t\treturn formatResult(result, inPast);\n\t}\n};\n\n/**\n * Format a time relative to now\n * @param date - The date\n * @param maxLength - The maximum amount of units, e.g.: 3 => years, months, days\n */\nexport function formatRelativeTime(date: Date, maxLength: number = 3, allowAffixes: boolean): string {\n\tconst difference = date.valueOf() - Date.now();\n\treturn formatTime(difference, maxLength, allowAffixes);\n};","export type EventNamesMap = Record<string, string>;\n\nexport class EventEmitter<EventMap extends EventNamesMap> {\n\tstatic EVENT_NAMES: EventNamesMap = {};\n\n\t#events: Record<string, Array<(data: unknown) => void>> = {};\n\n\t/**\n\t * Add event listener for an event\n\t */\n\ton<Key extends keyof EventMap>(eventName: Key, callback: (data: unknown) => void) {\n\t\tif (!this.#events[eventName as string]) {\n\t\t\tthis.#events[eventName as string] = [];\n\t\t}\n\t\tthis.#events[eventName as string].push(callback);\n\t}\n\t\n\t/**\n\t * Remove event listener for an event\n\t */\n\toff<Key extends keyof EventMap>(eventName: Key, callback: (data: unknown) => void) {\n\t\tif (this.#events[eventName as string]) {\n\t\t\tthis.#events[eventName as string] = this.#events[eventName as string].filter(\n\t\t\t\t(listener) => listener !== callback\n\t\t\t);\n\t\t}\n\t}\n\t\n\t/**\n\t * Dispatch event\n\t */\n\temit<Key extends keyof EventMap>(eventName: Key, data?: unknown) {\n\t\tif (this.#events[eventName as string]) {\n\t\t\tthis.#events[eventName as string].forEach((listener) => {\n\t\t\t\tlistener(data);\n\t\t\t});\n\t\t}\n\t}\n}","export function clamp(value: number, min: number, max: number): number {\n\tif (value < min) {\n\t\treturn min;\n\t} else if (value > max) {\n\t\treturn max;\n\t} else {\n\t\treturn value;\n\t}\n}\n\nexport function randomRange(min: number, max: number): number {\n\treturn Math.random() * (max - min) + min;\n}\n\nexport function round(value: number, precision: number): number {\n\tconst multiplier = Math.pow(10, precision || 0);\n\treturn Math.round(value * multiplier) / multiplier;\n}","export function isValidInteger(number: number | string): number | boolean {\n\treturn (typeof number === \"number\" || parseInt(number) || parseInt(number) === 0);\n}"],"names":["ANSI","removeFromArray","item","array","index","randomFromArray","removeDuplicatesFromArray","TIME_INDICATORS","formatTime","time","maxLength","allowAffixes","result","formatResult","inPast","prefix","suffix","units","unitLabels","key","value","amount","i","unit","formatRelativeTime","date","difference","_events","EventEmitter","__privateAdd","eventName","callback","__privateGet","listener","data","__publicField","clamp","min","max","randomRange","round","precision","multiplier","isValidInteger","number"],"mappings":"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"}